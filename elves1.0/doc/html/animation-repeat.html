<!doctype html>
<html><head>
<meta charset="utf-8">
<title>animation-repeat</title>
<meta name="keywords" content="" />
<meta name="description" content="elves.js" /> 
<meta name="author" content="elves Team" />
<link rel="stylesheet" type="text/css" href="style/style.css" />
</head>

<body>
<h1><strong>repeat()</strong></h1>
<h2>概述</h2>
<p>animation方法之一。定义动画重复的次数。</p>

<h3>描述:</h3>
<p>让动画重复执行n次。</p>
<h4>HTML 代码:</h4>
<pre>&lt;canvas id="test" width="507px" height="320px" style="border:1px solid #F00"&gt;</pre>
<h4>elves 代码:</h4>
<pre>
$(function() {
	$.cacheImg('porker', 'img/img.png');   <span class="green">//预先加载img资源</span>
	
	var card1 = {   <span class="green">//定义entity()方法的参数</span>
		sx : 0,   <span class="green">//可选。原图片开始剪切的 x 坐标位置。</span>
		sy : 0,   <span class="green">//可选。原图片开始剪切的 y 坐标位置。</span>
		sw : 50,    <span class="green">//可选。原图片被剪切的宽度。</span>
		sh : 30,    <span class="green">//可选。原图片被剪切的高度。</span>
		dx : 0,    <span class="green">//在画布上放置图像的 x 坐标位置。</span>
		dy : 0,    <span class="green">//在画布上放置图像的 y 坐标位置。</span>
		dw : 50,   <span class="green">//可选。在画布上要使用的图像的宽度。（伸展或缩小图像）</span>
		dh : 30,   <span class="green">//可选。在画布上要使用的图像的高度。（伸展或缩小图像）</span>
		type : 'img',   <span class="green">//创建实体的类型，为img型</span>
		res : 'porker',   <span class="green">//预先加载img资源的名称</span>
		name : 'card1'   <span class="green">//实体的名称，便于选择器选择，例如：$("$desk@card1")</span>
	};
	
	<span class="green">//创建一个名为'desk'的canvas  content对象</span>
	$("#test").asCanvas({
		name : 'desk'
	});
	
	<span class="green">//在$("$desk")中创建一个实体</span>
	$("$desk").entity(card1);
	
	<span class="green">//选择这个实体，并画在画布上。</span>
	$("$desk@card1").flush();
    
    <span class="green">//将实体$("$desk@card1")转成动画对象，然后执行动画方法to()。</span>
    $("$desk@card1").animation().to({
		translateX : 200,    
		translateY : 100,    
		rotate :90     
	}, 1000).repeat(10).start();    <span class="green">//repeat(10)让to方法定义的动画重复执行10次</span>
});

</pre>

</body>
</html>
